{"version":3,"sources":["localResize.angular.coffee"],"names":[],"mappings":"AAAA;AAAA,EAAG,CAAA,SAAA,GAAA;AACD,QAAA,GAAA;AAAA,IAAA,GAAA,GAAM,OAAO,CAAC,MAAR,CAAe,gBAAf,EAAiC,EAAjC,CAAN,CAAA;WAEA,GAAG,CAAC,SAAJ,CAAc,OAAd,EAAuB,SAAA,GAAA;AACrB,aAAO;AAAA,QACL,QAAA,EAAU,GADL;AAAA,QAEL,KAAA,EACE;AAAA,UAAA,OAAA,EAAS,GAAT;AAAA,UACA,MAAA,EAAS,GADT;AAAA,UAEA,OAAA,EAAS,GAFT;AAAA,UAGA,KAAA,EAAS,GAHT;AAAA,UAIA,KAAA,EAAS,GAJT;SAHG;AAAA,QAQL,IAAA,EAAM,SAAC,KAAD,EAAQ,OAAR,EAAiB,KAAjB,GAAA;AAEJ,cAAA,iCAAA;AAAA,UAAA,MAAA,GAAW,KAAK,CAAC,MAAjB,CAAA;AAAA,UACA,OAAA,GAAW,KAAK,CAAC,OADjB,CAAA;AAAA,UAEA,QAAA,GAAW,KAAK,CAAC,QAAN,KAAoB,MAF/B,CAAA;AAAA,UAGA,OAAA,GAAW,KAAK,CAAC,OAHjB,CAAA;AAAA,UAIA,EAAA,GAAW,KAAK,CAAC,EAAN,IAAY,KAAK,CAAC,EAJ7B,CAAA;AAAA,UAQA,EAAA,GAAS,IAAA,WAAA,CAAY,OAAQ,CAAA,CAAA,CAApB,EACP;AAAA,YAAA,MAAA,EAAU,MAAV;AAAA,YACA,OAAA,EAAU,OADV;AAAA,YAEA,QAAA,EAAU,QAFV;AAAA,YAGA,OAAA,EAAU,OAHV;AAAA,YAIA,EAAA,EAAU,EAJV;WADO,CART,CAAA;AAAA,UAgBA,KAAK,CAAC,MAAN,CAAa,OAAb,EAAsB,SAAC,MAAD,GAAA;mBACpB,EAAE,CAAC,EAAE,CAAC,QAAN,CAAe,MAAf,EADoB;UAAA,CAAtB,CAhBA,CAAA;AAAA,UAoBA,EACA,CAAC,MADD,CACQ,SAAC,IAAD,GAAA;AACN,YAAA,IAAG,MAAA,CAAA,KAAY,CAAC,MAAb,KAAuB,UAA1B;qBAA0C,KAAK,CAAC,MAAN,CAAa,IAAb,EAA1C;aADM;UAAA,CADR,CAIA,CAAC,OAJD,CAIS,SAAC,OAAD,EAAU,IAAV,GAAA;AACP,YAAA,KAAK,CAAC,MAAN,CAAa,SAAA,GAAA;qBAAG,KAAK,CAAC,OAAN,GAAgB,KAAnB;YAAA,CAAb,CAAA,CAAA;AAEA,YAAA,IAAG,MAAA,CAAA,KAAY,CAAC,OAAb,KAAwB,UAA3B;qBAA2C,KAAK,CAAC,OAAN,CAAc,OAAd,EAAuB,IAAvB,EAA3C;aAHO;UAAA,CAJT,CASA,CAAC,KATD,GASS,SAAA,GAAA;AACP,YAAA,KAAK,CAAC,MAAN,CAAa,SAAA,GAAA;qBAAG,KAAK,CAAC,OAAN,GAAgB,GAAnB;YAAA,CAAb,CAAA,CAAA;AAAA,YAEA,EAAE,CAAC,EAAE,CAAC,KAAN,CAAA,CAFA,CAAA;AAIA,YAAA,IAAG,MAAA,CAAA,KAAY,CAAC,KAAb,KAAsB,UAAzB;AAAyC,cAAA,KAAK,CAAC,KAAN,CAAA,CAAA,CAAzC;aAJA;AAKA,mBAAO,EAAP,CANO;UAAA,CA7BT,CAAA;iBAsCA,KAAK,CAAC,MAAN,CAAa,SAAb,EAAwB,SAAC,MAAD,GAAA;AACtB,YAAA,qBAAG,MAAM,CAAE,eAAX;AACE,cAAA,IAAG,QAAH;uBAAiB,EAAE,CAAC,UAAH,CAAc,MAAM,CAAC,MAArB,EAAjB;eAAA,MAAA;uBAAkD,EAAE,CAAC,MAAH,CAAU,MAAM,CAAC,MAAjB,EAAlD;eADF;aADsB;UAAA,CAAxB,EAxCI;QAAA,CARD;OAAP,CADqB;IAAA,CAAvB,EAHC;EAAA,CAAA,CAAH,CAAA,CAAA,CAAA;AAAA","file":"localResize.angular.js","sourceRoot":"/source/","sourcesContent":["do ->\r\n  app = angular.module 'localResizeIMG', []\r\n\r\n  app.directive 'lRImg', ->\r\n    return {\r\n      restrict: 'E'\r\n      scope:\r\n        ngModel: '='\r\n        change : '='\r\n        success: '='\r\n        reset  : '='\r\n        title  : '@'\r\n      link: (scope, element, attrs) ->\r\n        # 获取传参\r\n        rWidth   = attrs.rwidth\r\n        quality  = attrs.quality\r\n        readonly = attrs.readonly isnt undefined\r\n        quality  = attrs.quality\r\n        UI       = attrs.ui or attrs.UI\r\n\r\n\r\n        # 生成元素\r\n        lr = new LocalResize element[0],\r\n          rWidth  : rWidth\r\n          quality : quality\r\n          readonly: readonly\r\n          quality : quality\r\n          UI      : UI\r\n\r\n        # 设置标题\r\n        scope.$watch 'title', (newVal) ->\r\n          lr.UI.setTitle newVal\r\n\r\n        # view to model\r\n        lr\r\n        .change (data) ->\r\n          if typeof scope.change is 'function' then scope.change data\r\n\r\n        .success (setStop, data) ->\r\n          scope.$apply -> scope.ngModel = data\r\n\r\n          if typeof scope.success is 'function' then scope.success setStop, data\r\n\r\n        .reset = ->\r\n          scope.$apply -> scope.ngModel = {}\r\n\r\n          lr.UI.reset()\r\n\r\n          if typeof scope.reset is 'function' then scope.reset()\r\n          return lr\r\n\r\n        # model to view\r\n        scope.$watch 'ngModel', (newVal) ->\r\n          if newVal?.imgUrl\r\n            if readonly then lr.setImgOnly newVal.imgUrl else lr.setImg newVal.imgUrl\r\n    }"]}